"use strict";function Timer(e){function t(e){var t=e.split(""),r=void 0,n=0;for(r=t.length-1;r>=0;){if("1"===t[r])i.counters.push({type:n});else if("0"!==t[r])return!1;r--,n++}return!0}function r(e,t){var r=document.createElement("div");return r.className="tmr-i","undefined"==typeof t?r.innerHTML=e?"Timer will be launched soon...":"Timer is stopped.":r.appendChild(t),console.log(r),r}function n(){var e=void 0;for(i.el.removeChild(i.elIntermedia),e=i.counters.length-1;e>=0;)i.counters[e].show(),e--;c=setInterval(function(){var e=void 0,t=i.endDate-Date.now();for(e=0;e<i.counters.length;e++)i.counters[e].setValue(Math.floor(t/i.counters[e].interval%i.counters[e].divisor),!0),e===i.counters.length-1&&i.counters[e].setValue(Math.floor(t/i.counters[e].interval),!1),0===i.counters[e].type&&i.counters[e].setValue(Math.floor(t/i.counters[e].interval%i.counters[e].divisor),!1);t<i.interval&&(clearInterval(c),o())},i.interval)}function o(){var e=void 0;for(i.elIntermedia=i.el.appendChild(a),e=i.counters.length-1;e>=0;)i.counters[e].hide(),e--}var i={},s=void 0,l=void 0,a=void 0,c=void 0;e=e||{},i.counters=[];try{if("undefined"==typeof e.el||null===e.el)throw"Error! Timer element is incorrect";if(UTIL.classList(e.el).indexOf("tmr")===-1)throw"Error! Timer element must have a 'timer' class";if(i.el=e.el,"undefined"!=typeof e.type){if("string"!=typeof e.type||!t(e.type))throw"Error! Timer type is incorrect"}else t("110");if("undefined"!=typeof e.showUnits){if("boolean"!=typeof e.showUnits)throw"Error! Timer showUnits param is incorrect"}else e.showUnits=!1;if(i.showUnits=e.showUnits,(i.startDate=e.shedule[0]).isNaN||(i.endDate=e.shedule[1]).isNaN)throw"Error! Your shedule Dates is incorrect. Please, check it.";if(i.endDate-i.startDate<=0||i.endDate-Date.now()<=0)throw"Error! Your shedule Dates is incorrect. Please, check it.";if("undefined"!=typeof e.elBefore&&"undefined"==typeof e.elBefore.innerHTML)throw"Error! Timer in-param 'elBefore' is incorrect!";if(l=r(!0,e.elBefore),"undefined"!=typeof e.elAfter&&"undefined"==typeof e.elAfter.innerHTML)throw"Error! Timer in-param 'elAfter' is incorrect!";a=r(!1,e.elAfter)}catch(e){return console.warn(e),Object.create(null)}for(i.elIntermedia=i.el.appendChild(l),s=i.counters.length-1;s>=0;)i.counters[s].timerEl=i.el,i.counters[s].showUnit=s===i.counters.length-1&&i.showUnits===!1?null:i.showUnits,i.counters[s]=new TimerCounter(i.counters[s]),s--;i.interval=i.counters[0].interval,this.el=i.el,this.startDate=i.startDate,this.endDate=i.endDate,s=i.startDate-Date.now(),s=s<0?0:s,setTimeout(n,s)}
"use strict";function TimerCounter(e){function n(e){e?UTIL.classList(i.el).add("tmr-c-hidden"):UTIL.classList(i.el).remove("tmr-c-hidden")}var i=void 0,t=void 0,r=void 0,s=void 0,a=[{name:"milliseconds",interval:100,divisor:10,unitEndings:["миллисекунд","миллисекунда","миллисекунды"]},{name:"seconds",interval:1e3,divisor:60,unitEndings:["секунд","секунда","секунды"]},{name:"minutes",interval:6e4,divisor:60,unitEndings:["минут","минута","минуты"]},{name:"hours",interval:36e5,divisor:24,unitEndings:["часов","час","часа"]},{name:"days",interval:864e5,divisor:365/12,unitEndings:["дней","день","дня"]},{name:"months",interval:2628e6,divisor:12,unitEndings:["месяцев","месяц","месяца"]},{name:"years",interval:31536e6,divisor:1,unitEndings:["лет","год","года"]}];i={value:0,type:e.type,name:a[e.type].name,interval:a[e.type].interval,divisor:a[e.type].divisor,unitEndings:a[e.type].unitEndings},t=document.createElement("span"),t.className="tmr-c tmr-c-"+i.name,r=document.createElement("span"),r.className="tmr-c-v",r.innerHTML=i.value,t.appendChild(r),s=document.createElement("span"),s.className="tmr-c-u",e.showUnit?(s.innerHTML=UTIL.unitEndings(i.value,i.unitEndings),t.appendChild(s)):e.showUnit===!1&&(s.innerHTML=0===e.type?".":":",t.insertBefore(s,r)),i.el=e.timerEl.appendChild(t),n(!0),this.el=i.el,this.type=i.type,this.value=i.value,this.name=i.name,this.interval=i.interval,this.divisor=i.divisor,this.hide=function(){return n(!0)},this.show=function(){return n(!1)},this.setValue=function(n,t){i.value=n,t?i.el.querySelector(".tmr-c-v").innerHTML=("0"+i.value).slice(-2):i.el.querySelector(".tmr-c-v").innerHTML=i.value,e.showUnit?i.el.querySelector(".tmr-c-u").innerHTML=UTIL.unitEndings(i.value,i.unitEndings):e.showUnit===!1&&(i.el.querySelector(".tmr-c-u").innerHTML=0===e.type?".":":")},TimerCounter.types=function(){if(0===arguments.length)return a;if(1===arguments.length){if("undefined"==typeof a[arguments[0]])throw new Error("Incorrect argument. Expected number 0 to "+(a.length-1));return a[arguments[0]]}throw new Error("Incorrect arguments amount. Expected 0 or 1 arguments.")}}
"use strict";